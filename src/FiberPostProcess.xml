<?xml version="1.0" encoding="utf-8"?>
<executable>
<category>Diffusion.FiberAnalysis</category>
<title>Fiber Post Processing</title>
<description>Removes fibers outside of a mask</description>
<contributor>
Jean-Yves Yang
</contributor>
<parameters>
<label>IO</label>
<description>Input/Output parameters</description>

  <file>
  <name>inputFiberFileName</name>
  <longflag>inputFiberFileName</longflag>
  <label>Input Fiber File Name</label>
  <channel>input</channel>
  <flag>i</flag>
  <description>input fiber filename in .vtk or .vtp</description>
  </file>

  <geometry type="fiberbundle">
  <name>outputFiberFileName</name>
  <longflag>outputFiber</longflag>
  <label>Output Fiber File Name</label>
  <channel>output</channel>
  <flag>o</flag>
  <description>output fiber filename in .vtk or .vtp</description>
  </geometry>

  <image>
  <name>attributeFileName</name>
  <longflag>attributeFile</longflag>
  <label>Attribute File Name</label>
  <channel>input</channel>
  <flag>m</flag>
  <description>attribute filename in .nrrd, .nhdr, etc, such as a probability mask, or FA, MD, etc. Set by default as a binary mask. This parameter is used to crop the beginning and the end of each fiber or to mask the fiber bundle and remove any fiber considered outside of this mask (determined by the threshold parameter).</description>
  </image>

  <string-enumeration>
  <name>attribute</name>
  <longflag>attribute</longflag>
  <label>Is attribute a mask</label>
  <channel>input</channel>
  <flag>a</flag>
  <description>Set by default to binary mode, set the value to nonbinary</description>
  <element>binary</element>
  <element>nonbinary</element>
  <default>binary</default>
  </string-enumeration>

  <float>
  <name>threshold</name>
  <longflag>threshold</longflag>
  <label>Threshold value</label>
  <channel>input</channel>
  <flag>t</flag>
  <description>Threshold value between 0 and 1. If the percentage of the fiber outside of the mask is above this value, the fiber is removed.</description>
  </float>

  <integer>
  <name>visualisationFlag</name>
  <longflag>noTensor</longflag>
  <label>Write a visualizable output file (remove tensors)</label>
  <channel>input</channel>
  <flag>v</flag>
  <default>0</default>
  <description>Need to be set at 1 if you want to have an output file and its intersection with the mask visualizable through Slicer.</description>
  </integer>

</parameters>

</executable>
